{
  "content": "/**\n * @fileoverview Client script functions for Main page.\n */\n\n\n/**\n * Loads page\u0027s datasource after setting all required filters.\n */\nfunction loadDataForMain() {\n  var statusDropdown \u003d app.pages.Main.descendants.StatusDropdown;\n  statusDropdown.value \u003d \u0027All Open\u0027;\n    \n  var ds \u003d app.datasources.Request;\n  ds.query.filters.Owner._equals \u003d app.user.email;\n  \n  ds.query.filters.Status._equals \u003d null;\n  ds.query.filters.Status._in \u003d [\n    window.Status.Draft,\n    window.Status.Pending,\n    window.Status.Rejected,\n    window.Status.Approved\n  ];\n  ds.query.pageIndex \u003d 1;\n  ds.load();\n}\n\n\n/**\n * Archives a request by changing the corresponding flag. Reloads datasource to\n *     get refreshed data set.\n * @param {Request} request - request record to archive;\n */\nfunction archiveRequest(request) {\n  if (confirm(\u0027Are you sure you want to archive this request?\u0027)) {\n    request.Archived \u003d true;\n\n    var requestsDs \u003d app.datasources.Request;\n    requestsDs.saveChanges(function() {\n      requestsDs.load();  \n    });\n  }\n}\n\n\n/**\n * Redirects user to Edit Request page.\n * @param {Request} request - request record being selected.\n */\nfunction getUrlToRequestDetails(requestKey) {\n  return app.datasources.AppSettings.item.AppUrl +\n    \u0027?requestId\u003d\u0027 + requestKey + \u0027#EditRequest\u0027;\n}\n",
  "key": "Lx0HlxoRvihL9fqIkeVk6xFC7YKCstFo",
  "name": "MainPage",
  "type": "CLIENT"
}